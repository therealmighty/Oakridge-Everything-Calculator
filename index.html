<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oakridge Systems | Demand · Paycheck · Efficiency</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      color: #eee;
      background: url("https://i.ibb.co/N2Jq1f9Z/image.png") center/cover fixed no-repeat;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 30px;
      min-height: 100vh;
    }
    .container {
      width: 95%;
      max-width: 950px;
      background: rgba(0, 0, 0, 0.85);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.8);
      backdrop-filter: blur(6px);
    }
    h1 { color: #aaff00; text-align: center; margin-bottom: 20px; }
    h2 { color: #aaff00; margin-top: 20px; font-size: 1.2rem; }
    label { display: block; margin-top: 8px; }
    input {
      width: 100%; padding: 8px;
      background: #111; border: 1px solid #333;
      border-radius: 6px; color: #eee; font-size: 14px;
    }
    button {
      background: #aaff00; color: #000; font-weight: bold;
      border: none; border-radius: 6px; padding: 8px 12px;
      margin-top: 10px; cursor: pointer;
    }
    button:hover { background: #d9ff4d; }
    .result { margin-top: 10px; font-weight: bold; color: #aaff00; }
    .eff-bar { width:100%; height:20px; background:#111; border-radius:10px; overflow:hidden; margin-top:8px;}
    .eff-fill { height:100%; width:0%; background:#aaff00; transition:width .5s ease; }
    #chartContainer { margin-top: 25px; background: #0b0b0b; border-radius: 10px; padding: 10px; }
    footer { text-align:center; margin-top:20px; color:#aaa; font-size:0.9rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Oakridge Utility Suite</h1>

    <h2>Demand Calculator</h2>
    <label>Demand Number:</label>
    <input id="demandInput" type="number" placeholder="e.g. 1190">
    <button onclick="calcDemand()">Calculate Demand</button>
    <div id="demandResult" class="result"></div>

    <h2>Paycheck System</h2>
    <label>Hours Worked:</label>
    <input id="hoursInput" type="number" placeholder="e.g. 8">
    <label>Rate Per Hour:</label>
    <input id="rateInput" type="number" placeholder="e.g. 10">
    <button onclick="calcPay()">Calculate Paycheck</button>
    <div id="payResult" class="result"></div>

    <h2>Reactor Efficiency Calculator</h2>
    <label>Reactor Power (P):</label>
    <input id="P_input" type="number" placeholder="e.g. 1800">
    <label>Core Temperature (C):</label>
    <input id="C_input" type="number" placeholder="e.g. 3200">
    <label>Plant Output (O):</label>
    <input id="O_input" type="number" placeholder="e.g. 1050">
    <button onclick="calcEfficiency()">Calculate Efficiency & Plot Graph</button>
    <div id="effResult" class="result"></div>
    <div class="eff-bar"><div class="eff-fill" id="effFill"></div></div>
    <div id="chartContainer"><canvas id="effChart" height="240"></canvas></div>

    <footer>© 2025 | Made by 4_mighty_4 + sixhness</footer>
  </div>

  <script>
    // Chart init
    const ctx = document.getElementById('effChart');
    const effChart = new Chart(ctx, {
      type: 'line',
      data: { labels: [], datasets: [{ label:'Efficiency', data:[], borderColor:'#aaff00', backgroundColor:'rgba(170,255,0,0.1)', fill:true, pointRadius:0 }] },
      options: { scales:{ x:{ticks:{color:'#aaa'}}, y:{ticks:{color:'#aaa'}} }, plugins:{legend:{labels:{color:'#aaa'}}} }
    });

    function calcDemand(){
      const d = parseFloat(document.getElementById('demandInput').value);
      if(isNaN(d)) return alert('Enter a valid number');
      const result = d/2 + 12;
      document.getElementById('demandResult').textContent = `Demand Value = ${result.toFixed(2)}`;
    }

    function calcPay(){
      const h = parseFloat(document.getElementById('hoursInput').value);
      const r = parseFloat(document.getElementById('rateInput').value);
      if(isNaN(h)||isNaN(r)) return alert('Enter valid numbers');
      const pay = h*r;
      document.getElementById('payResult').textContent = `Total Paycheck = ${pay.toFixed(2)}`;
    }

    function Pw(P){ return (2*P)/3; }
    function Ow(O){ return (107*O)/100; }
    function PL(Pw){
      const t=(Pw-1600)/500;
      if(t>1) return 1;
      if(t>=0) return t;
      return 0;
    }
    function E(Ow,Pw,C){
      const pl = PL(Pw);
      if(Pw-1600===0||C===0) return 0;
      return pl*(65*(Ow/(Pw-1600)) + 35*(77*((Ow/4570)+0.65)/C));
    }

    function calcEfficiency(){
      const P=parseFloat(P_input.value), C=parseFloat(C_input.value), O=parseFloat(O_input.value);
      if(isNaN(P)||isNaN(C)||isNaN(O)) return alert('Enter valid P, C, and O');

      const Pw_val=Pw(P), Ow_val=Ow(O);
      const eff=E(Ow_val,Pw_val,C);
      effResult.textContent=`Reactor Efficiency = ${eff.toFixed(3)}%`;
      document.getElementById('effFill').style.width=Math.min(100,eff)+"%";

      // Plot graph
      const data=[], labels=[];
      for(let x=0;x<=O*1.2;x+=O/30){
        const e=E(Ow(x),Pw_val,C);
        data.push(e); labels.push(x.toFixed(0));
      }
      effChart.data.labels=labels;
      effChart.data.datasets[0].data=data;
      effChart.update();
    }
  </script>
</body>
</html>
